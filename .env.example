# ============================================================
# Environment Variables
# ============================================================
#
# このファイルは環境変数のテンプレートです。
# .env.local にコピーして、実際の値を設定してください。
#
# 注意:
# - コード内でこれらの環境変数を「直接の文字列」でベタ書きしないこと
# - ドメインURLはこれらの値経由で参照する想定
# - .env.local は .gitignore に含めること
#
# ============================================================

# ------------------------------------------------------------
# Multi-Domain URLs
# ------------------------------------------------------------
# 各ドメインのベースURL
# 開発環境ではサブドメイン構成（www=3001 / app=3002 / admin=3003 / ops=3004）を使用
# 本番環境ではそれぞれのサブドメインを設定
# 注意: localhost ではサブドメイン間のCookie共有ができないため、
#      local.test を使用（/etc/hosts に設定が必要）

# 開発環境（サブドメイン構成）
NEXT_PUBLIC_WWW_URL=http://www.local.test:3001
NEXT_PUBLIC_APP_URL=http://app.local.test:3002
NEXT_PUBLIC_ADMIN_URL=http://admin.local.test:3003
NEXT_PUBLIC_OPS_URL=http://ops.local.test:3004

# 本番環境（コメントアウトを外して使用）
# NEXT_PUBLIC_WWW_URL=https://www.yourdomain.com
# NEXT_PUBLIC_APP_URL=https://app.yourdomain.com
# NEXT_PUBLIC_ADMIN_URL=https://admin.yourdomain.com
# NEXT_PUBLIC_OPS_URL=https://ops.yourdomain.com

# ------------------------------------------------------------
# Cookie Domain
# ------------------------------------------------------------
# サブドメイン間でCookieを共有するためのドメイン設定
# ドット（.）で始まることで、すべてのサブドメインで共有される

NEXT_PUBLIC_COOKIE_DOMAIN=.local.test
# NEXT_PUBLIC_COOKIE_DOMAIN=.yourdomain.com  # 本番環境

# ------------------------------------------------------------
# Supabase
# ------------------------------------------------------------
# Supabase プロジェクトの URL と API キー
# https://app.supabase.com からプロジェクトを作成し、設定ページから取得

NEXT_PUBLIC_SUPABASE_URL=
NEXT_PUBLIC_SUPABASE_ANON_KEY=
SUPABASE_SERVICE_ROLE_KEY=

# 注意:
# - SUPABASE_ANON_KEY はクライアント側で使用（公開しても安全）
# - SUPABASE_SERVICE_ROLE_KEY はサーバー側のみで使用（絶対に公開しない）

# ------------------------------------------------------------
# OpenAI (オプション)
# ------------------------------------------------------------
# 将来的にAI機能を追加する場合に使用

OPENAI_API_BASE=
OPENAI_API_KEY=

# ------------------------------------------------------------
# Sentry (オプション)
# ------------------------------------------------------------
# エラートラッキング用
# https://sentry.io でプロジェクトを作成し、DSNを取得

SENTRY_DSN=

# ------------------------------------------------------------
# その他
# ------------------------------------------------------------
# 必要に応じて追加

# NODE_ENV=development
# LOG_LEVEL=info


# ========== Routing / E2E rules ==========
# 各URLはテストコード・アプリコードで直接ハードコードしないこと。
# 例: "http://admin.local.test:3002/members" のような直書きは禁止。
# PlaywrightやClient遷移は必ず NEXT_PUBLIC_*_URL を参照すること。
#
# apps/app は将来的に apps/portal にリネームされる可能性がある。
# その場合でも E2E が壊れないように、URL依存をここに集約する。
#
# ローカルでは:
#   www.local.test:3001
#   app.local.test:3002
#   admin.local.test:3003
#   ops.local.test:3004
# を /etc/hosts で 127.0.0.1 に向ける想定。
#
# 本番は Vercel 上で 4 ドメイン (www/app/admin/ops) を別プロジェクトとしてデプロイする。
# ドメインを1つにまとめてHostヘッダやmiddlewareで出し分ける構成は採用しない。
